const t=function(){const t={get:(t,e)=>t.__proto__.getItem(e),set:(t,e,o)=>("[object Object]"===o.toString()?t.__proto__.setValue(o):t.__proto__.setItem(e,o),!0)},e=(o="__linStorage")=>{const r=localStorage[o]?JSON.parse(localStorage[o]):{};function _(){r.__proto__.length=Object.keys(r).length,localStorage[o]=JSON.stringify(r)}return r.__proto__={constructor:function(){},length:0,__linStoragePrimaryKey:o,getItem:t=>r[t],setItem:(n,c)=>("[object Object]"===c.toString()?(r[n]=new Proxy(e(o+":"+n),t),r[n].__proto__.setValue(c)):r[n]=c,_(),r[n]),removeItem(t){const e=r[t];return delete r[t],_(),e},clear(){Object.keys(r).forEach((t=>delete r[t])),_()},init(t,e){if(2!==arguments.length)throw Error("init() expected parameter length is 2, got 1");e instanceof Object||(e={value:e});const _=localStorage[o+":"+t]?JSON.parse(localStorage[o+":"+t]):void 0;return r.__proto__.setItem(t,_||e)},setValue(t){t instanceof Object?r.__proto__.clear():t={value:t};for(let e in t)r.__proto__.setItem(e,t[e]);return r}},r};return new Proxy(e(),t)}();export{t as linStorage};
